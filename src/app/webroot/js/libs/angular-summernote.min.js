angular.module("summernote",[]).controller("SummernoteController",["$scope","$attrs",function(b,d){var k,a=b.summernoteConfig||{};angular.isDefined(d.height)&&(a.height=d.height);angular.isDefined(d.focus)&&(a.focus=!0);angular.isDefined(d.airmode)&&(a.airMode=!0);if(angular.isDefined(d.lang)){if(!angular.isDefined($.summernote.lang[d.lang]))throw Error('"'+d.lang+'" lang file must be exist.');a.lang=d.lang}a.oninit=b.init;a.onenter=function(c){b.enter({evt:c})};a.onfocus=function(c){b.focus({evt:c})};
a.onblur=function(c){b.blur({evt:c})};a.onpaste=function(c){b.paste({evt:c})};a.onkeyup=function(c){b.keyup({evt:c})};a.onkeydown=function(c){b.keydown({evt:c})};angular.isDefined(d.onImageUpload)&&(a.onImageUpload=function(c,a){b.imageUpload({files:c,editor:a,editable:b.editable})});this.activate=function(c,f,e){var h=function(){var a=f.code();e&&e.$viewValue!==a&&(e.$setViewValue(a),"$apply"!==c.$$phase&&"$digest"!==c.$$phase&&c.$apply())};a.onChange=function(a){h();b.change({contents:a,editable:b.editable})};
f.summernote(a);var g=f.next(".note-editor"),l;g.find(".note-toolbar").click(function(){h();g.hasClass("codeview")?(g.on("keyup",h),e&&(l=c.$watch(function(){return e.$modelValue},function(a){g.find(".note-codable").val(a)}))):(g.off("keyup",h),angular.isFunction(l)&&l())});e&&(e.$render=function(){f.code(e.$viewValue||"")});angular.isDefined(d.editable)&&(b.editable=g.find(".note-editable"));k=f;f.on("$destroy",function(){f.destroy();b.summernoteDestroyed=!0})};b.$on("$destroy",function(){b.summernoteDestroyed||
k.destroy()})}]).directive("summernote",[function(){return{restrict:"EA",transclude:!0,replace:!0,require:["summernote","^?ngModel"],controller:"SummernoteController",scope:{summernoteConfig:"=config",editable:"=",init:"&onInit",enter:"&onEnter",focus:"&onFocus",blur:"&onBlur",paste:"&onPaste",keyup:"&onKeyup",keydown:"&onKeydown",change:"&onChange",imageUpload:"&onImageUpload"},template:'<div class="summernote"></div>',link:function(b,d,k,a){a[0].activate(b,d,a[1])}}}]);
